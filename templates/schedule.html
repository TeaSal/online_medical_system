{% extends "layout.html" %}
{% block content %}
<a id="backToDoc" class="btn btn-light mb-3">&larr; Back</a>

<section class="appointment-container">
  <div id="appointmentForm" class="appointment-form card-custom">
    <h3 class="text-center mb-4 fw-bold text-primary">Book Your Appointment</h3>
    <p class="text-center muted small mb-4">Select your preferred date, time, and fill in the patient details below.</p>

    <!-- DATE PICKER -->
    <div class="form-group mb-3">
      <label for="appointmentDate" class="form-label fw-semibold">Select Date</label>
      <input type="date" id="appointmentDate" class="form-control" required>
    </div>

    <!-- TIME SLOTS -->
    <div class="form-group mb-3">
      <label class="form-label fw-semibold">Choose a Time Slot</label>
      <div id="schedTimeSlots" class="d-flex flex-wrap justify-content-center gap-2">
        <!-- JS populates this -->
      </div>
    </div>

    <!-- PATIENT DETAILS -->
    <div class="row g-2 mb-3">
      <div class="col-6">
        <label class="form-label fw-semibold">Full Name</label>
        <input id="patientName" class="form-control" placeholder="Enter full name">
      </div>
      <div class="col-3">
        <label class="form-label fw-semibold">Age</label>
        <input id="patientAge" class="form-control" type="number" min="0" placeholder="Age">
      </div>
      <div class="col-3">
        <label class="form-label fw-semibold">Gender</label>
        <select id="patientGender" class="form-select">
          <option>Female</option><option>Male</option><option>Other</option>
        </select>
      </div>
    </div>

    <!-- PROBLEM DESCRIPTION -->
    <div class="form-group mb-4">
      <label class="form-label fw-semibold">Describe your problem</label>
      <textarea id="patientProblem" class="form-control" rows="3" placeholder="Describe symptoms briefly"></textarea>
    </div>

    <!-- BUTTON -->
    <div class="d-grid">
      <button id="confirmSched" type="button" class="btn btn-primary w-100">
        Confirm Appointment
      </button>
    </div>
  </div>
</section>

<script>
// prevent refresh behavior if somehow form is wrapped in <form> later
document.addEventListener("DOMContentLoaded", () => {
  const form = document.getElementById("appointmentForm");
  if (form && form.tagName === "FORM") {
    form.addEventListener("submit", (e) => e.preventDefault());
  }
});
</script>
{% endblock %}
